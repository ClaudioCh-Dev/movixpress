<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Iniciar Sesión - MoviXpress</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="/css/styleLogin.css">
</head>

<body>
	<div class="bg-overlay"></div>

	<div class="container d-flex justify-content-center align-items-center min-vh-100 position-relative z-1">
		<div class="card-login row g-0 overflow-hidden shadow-lg">
			
			<!-- Sección formulario -->
			<div class="col-md-6 left-panel p-5 d-flex flex-column justify-content-center">
				<div class="text-center mb-4">
					<a href="/" class="text-decoration-none">
						<div class="d-flex align-items-center justify-content-center gap-2 mb-2">
							<i class="bi bi-car-front-fill text-danger fs-1"></i>
							<span class="h2 fw-bold text-white mb-0">Movi<span class="text-danger">Xpress</span></span>
						</div>
					</a>
					<p class="text-white-50 small">Ingresa tus credenciales para continuar</p>
				</div>

				<form th:action="@{/login}" method="post" class="needs-validation">
					
					<div class="form-floating mb-3">
						<input type="text" class="form-control bg-transparent text-white border-0 border-bottom rounded-0 ps-0" 
							   id="username" name="username" placeholder="Usuario" required>
						<label for="username" class="">Usuario</label>
					</div>

					<div class="form-floating mb-4">
						<input type="password" class="form-control bg-transparent text-white border-0 border-bottom rounded-0 ps-0" 
							   id="password" name="password" placeholder="Contraseña" required>
						<label for="password" class="">Contraseña</label>
					</div>

					<div th:if="${param.error != null}" class="alert alert-danger d-flex align-items-center py-2 mb-4" role="alert">
						<i class="bi bi-exclamation-triangle-fill me-2"></i>
						<div class="small">Usuario o contraseña incorrectos</div>
					</div>

					<div class="d-grid gap-2">
						<button type="submit" class="btn btn-danger btn-lg fw-bold rounded-pill shadow-sm">
							INGRESAR <i class="bi bi-arrow-right-short"></i>
						</button>
					</div>
					
					<div class="text-center mt-4">
						<a href="/" class="text-white-50 text-decoration-none small hover-white">
							<i class="bi bi-arrow-left me-1"></i> Volver al inicio
						</a>
					</div>
				</form>
			</div>

			<!-- Sección mensaje/imagen -->
			<div class="col-md-6 right-panel d-none d-md-flex flex-column justify-content-center align-items-center text-center p-5 text-white position-relative">
				<div class="bg-gradient-overlay"></div>
				<div class="position-relative z-2">
					<h3 class="fw-bold mb-3">¡Bienvenido de nuevo!</h3>
					<p class="lead mb-4 opacity-75">Gestiona tu flota y alquileres con la mejor plataforma del mercado.</p>
					<div class="d-flex justify-content-center gap-3">
						<div class="feature-icon bg-white bg-opacity-10 rounded-circle p-3">
							<i class="bi bi-shield-check fs-4"></i>
						</div>
						<div class="feature-icon bg-white bg-opacity-10 rounded-circle p-3">
							<i class="bi bi-speedometer2 fs-4"></i>
						</div>
						<div class="feature-icon bg-white bg-opacity-10 rounded-circle p-3">
							<i class="bi bi-graph-up-arrow fs-4"></i>
						</div>
					</div>
				</div>
			</div>
			
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	
	<script>
		document.querySelector('form').addEventListener('submit', function(e) {
			if (!this.checkValidity()) {
				return;
			}
			
			const btn = this.querySelector('button[type="submit"]');
			const originalContent = btn.innerHTML;
			
			btn.disabled = true;
			btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Cargando...';
		});
	</script>
</body>

</html>